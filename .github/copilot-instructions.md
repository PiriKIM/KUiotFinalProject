# Copilot Instructions for posture-web-analyzer

이 저장소는 **FastAPI 기반의 실시간 자세 분석 웹 서비스 프로젝트**입니다.  
프로젝트의 목적은 웹캠만 있으면 누구나 웹에서 자신의 자세를 실시간으로 분석하고,  
AI 기반 피드백을 받을 수 있는 확장 가능한 구조의 서비스를 제공하는 것입니다.

아래의 지침을 참고하여 GitHub Copilot이 일관성 있게 코드를 제안할 수 있도록 해주세요.

---

## 1. 코드 구조 및 모듈화

- 분석 알고리즘, 수학적 계산, 시각화, 입력 등은 반드시 **역할별로 분리**된 모듈에 작성합니다.
    - 분석 알고리즘: `app/analyzer/posture.py`
    - 수학/좌표 계산: `app/analyzer/utils.py`
    - 시각화 함수: `app/analyzer/draw.py`
    - 입력(웹캠 등): `app/camera/webcam.py`
    - API 엔트리포인트: `app/main.py`
- 공통적으로 쓰이는 함수는 utils.py에 작성하고, 각 모듈에서 import해서 사용합니다.

---

## 2. 코드 스타일

- **PEP8**을 준수합니다.
- 함수/클래스/모듈에는 한글 주석을 포함해도 됩니다.
- 함수명, 변수명은 snake_case를 사용합니다.
- 타입 힌트와 docstring을 적극적으로 사용합니다.

---

## 3. 테스트 및 예외 처리

- 각 모듈별로 test/ 디렉토리에 단위 테스트 코드를 작성합니다.
- 입력값 검증, 예외 상황(웹캠 미연결 등)에 대한 처리를 명확히 합니다.

---

## 4. FastAPI 활용

- API 엔드포인트는 `app/main.py`에서 정의합니다.
- 데이터 모델은 반드시 `app/models/` 디렉토리의 Pydantic 클래스를 사용합니다.
- 프론트엔드와의 연동을 고려해, JSON 응답 구조를 명확히 설계합니다.
- `main.py`는 라우터 등록 및 FastAPI 애플리케이션 정의만 담당합니다.  
- 실제 비즈니스 로직은 별도의 서비스 또는 analyzer 모듈에 위치해야 합니다.


---

## 5. 파일 및 클래스 명명 규칙
- 파일명은 해당 모듈의 역할을 명확히 드러내는 이름으로 작성합니다. 예: `posture.py`, `draw.py`
- 클래스명은 CamelCase를 사용하며, 접두사는 기능에 따라 구분합니다. 예: `PostureAnalyzer`, `PoseVisualizer`


## 6. 기타

- 프로젝트 구조, 개발 흐름, 모듈화 원칙 등은 `/doc/posture_structure.md`와 `/doc/dev_log.md`를 참고합니다.
- 새로운 기능 추가 또는 코드 수정 시, 반드시 `/doc/dev_log.md`에 변경 내역을 기록합니다.
- 새로운 기능 추가 시, 반드시 관련 모듈에 함수/클래스를 추가하고, 필요시 utils.py에 공통 함수를 작성합니다.
- 코드 예시는 실제 프로젝트 구조에 맞게 경로와 import를 작성합니다.

---